import{I as C,aF as k,aG as I,aH as F,aI as T,aJ as m,aK as O,aL as E,y as S,aM as y,aN as _,aO as q,aP as b,h as K,aQ as N,m as V,ak as W}from"./Vv21FOU1.js";function J(e={}){const{inheritAttrs:t=!0}=e,u=m(),n=C({setup(o,{slots:r}){return()=>{u.value=r.default}}}),a=C({inheritAttrs:t,props:e.props,setup(o,{attrs:r,slots:p}){return()=>{var v;if(!u.value)throw new Error("[VueUse] Failed to find the definition of reusable template");const s=(v=u.value)===null||v===void 0?void 0:v.call(u,{...e.props==null?j(r):o,$slots:p});return t&&s?.length===1?s[0]:s}}});return k({define:n,reuse:a},[n,a])}function j(e){const t={};for(const u in e)t[O(u)]=e[u];return t}const z=E?window:void 0,M=E?window.navigator:void 0;function B(e){var t;const u=y(e);return(t=u?.$el)!==null&&t!==void 0?t:u}function w(...e){const t=(n,a,o,r)=>(n.addEventListener(a,o,r),()=>n.removeEventListener(a,o,r)),u=S(()=>{const n=b(y(e[0])).filter(a=>a!=null);return n.every(a=>typeof a!="string")?n:void 0});return I(()=>{var n,a;return[(n=(a=u.value)===null||a===void 0?void 0:a.map(o=>B(o)))!==null&&n!==void 0?n:[z].filter(o=>o!=null),b(y(u.value?e[1]:e[0])),b(K(u.value?e[2]:e[1])),y(u.value?e[3]:e[2])]},([n,a,o,r],p,v)=>{if(!n?.length||!a?.length||!o?.length)return;const s=q(r)?{...r}:r,c=n.flatMap(d=>a.flatMap(g=>o.map(h=>t(d,g,h,s))));v(()=>{c.forEach(d=>d())})},{flush:"post"})}function G(){const e=m(!1),t=W();return t&&V(()=>{e.value=!0},t),e}function L(e){const t=G();return S(()=>(t.value,!!e()))}function x(e,t={}){const{controls:u=!1,navigator:n=M}=t,a=L(()=>n&&"permissions"in n),o=m(),r=typeof e=="string"?{name:e}:e,p=m(),v=()=>{var c,d;p.value=(c=(d=o.value)===null||d===void 0?void 0:d.state)!==null&&c!==void 0?c:"prompt"};w(o,"change",v,{passive:!0});const s=_(async()=>{if(a.value){if(!o.value)try{o.value=await n.permissions.query(r)}catch{o.value=void 0}finally{v()}if(u)return N(o.value)}});return s(),u?{state:p,isSupported:a,query:s}:p}function Q(e={}){const{navigator:t=M,read:u=!1,source:n,copiedDuring:a=1500,legacy:o=!1}=e,r=L(()=>t&&"clipboard"in t),p=x("clipboard-read"),v=x("clipboard-write"),s=S(()=>r.value||o),c=m(""),d=m(!1),g=F(()=>d.value=!1,a,{immediate:!1});async function h(){let i=!(r.value&&$(p.value));if(!i)try{c.value=await t.clipboard.readText()}catch{i=!0}i&&(c.value=R())}s.value&&u&&w(["copy","cut"],h,{passive:!0});async function P(i=y(n)){if(s.value&&i!=null){let l=!(r.value&&$(v.value));if(!l)try{await t.clipboard.writeText(i)}catch{l=!0}l&&A(i),c.value=i,d.value=!0,g.start()}}function A(i){const l=document.createElement("textarea");l.value=i,l.style.position="absolute",l.style.opacity="0",l.setAttribute("readonly",""),document.body.appendChild(l),l.select(),document.execCommand("copy"),l.remove()}function R(){var i,l,f;return(i=(l=document)===null||l===void 0||(f=l.getSelection)===null||f===void 0||(f=f.call(l))===null||f===void 0?void 0:f.toString())!==null&&i!==void 0?i:""}function $(i){return i==="granted"||i==="prompt"}return{isSupported:s,text:T(c),copied:T(d),copy:P}}export{Q as a,J as c,w as u};
