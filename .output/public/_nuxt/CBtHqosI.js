import{_ as ue,l as ce,m as de,c as ft,a as A,d as Ut,n as Lt,t as mt,j as Ct,q as Pt,g as vt,v as $t,s as Ht,F as Vt,x as Nt,r as dt,k as he,y as ge,o as pt}from"./Vv21FOU1.js";function fe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dt={exports:{}},pe=Dt.exports,Wt;function we(){return Wt||(Wt=1,(function(r,s){(function(h,d){r.exports=d()})(pe,(()=>(()=>{var h={873:(y,S)=>{var O,Q,Y=(function(){var G=function(v,p){var c=v,e=ct[p],t=null,i=0,o=null,n=[],u={},x=function(a,g){t=(function(l){for(var f=new Array(l),w=0;w<l;w+=1){f[w]=new Array(l);for(var P=0;P<l;P+=1)f[w][P]=null}return f})(i=4*c+17),_(0,0),_(i-7,0),_(0,i-7),C(),M(),$(a,g),c>=7&&E(a),o==null&&(o=B(c,e,n)),D(o,g)},_=function(a,g){for(var l=-1;l<=7;l+=1)if(!(a+l<=-1||i<=a+l))for(var f=-1;f<=7;f+=1)g+f<=-1||i<=g+f||(t[a+l][g+f]=0<=l&&l<=6&&(f==0||f==6)||0<=f&&f<=6&&(l==0||l==6)||2<=l&&l<=4&&2<=f&&f<=4)},M=function(){for(var a=8;a<i-8;a+=1)t[a][6]==null&&(t[a][6]=a%2==0);for(var g=8;g<i-8;g+=1)t[6][g]==null&&(t[6][g]=g%2==0)},C=function(){for(var a=tt.getPatternPosition(c),g=0;g<a.length;g+=1)for(var l=0;l<a.length;l+=1){var f=a[g],w=a[l];if(t[f][w]==null)for(var P=-2;P<=2;P+=1)for(var I=-2;I<=2;I+=1)t[f+P][w+I]=P==-2||P==2||I==-2||I==2||P==0&&I==0}},E=function(a){for(var g=tt.getBCHTypeNumber(c),l=0;l<18;l+=1){var f=!a&&(g>>l&1)==1;t[Math.floor(l/3)][l%3+i-8-3]=f}for(l=0;l<18;l+=1)f=!a&&(g>>l&1)==1,t[l%3+i-8-3][Math.floor(l/3)]=f},$=function(a,g){for(var l=e<<3|g,f=tt.getBCHTypeInfo(l),w=0;w<15;w+=1){var P=!a&&(f>>w&1)==1;w<6?t[w][8]=P:w<8?t[w+1][8]=P:t[i-15+w][8]=P}for(w=0;w<15;w+=1)P=!a&&(f>>w&1)==1,w<8?t[8][i-w-1]=P:w<9?t[8][15-w-1+1]=P:t[8][15-w-1]=P;t[i-8][8]=!a},D=function(a,g){for(var l=-1,f=i-1,w=7,P=0,I=tt.getMaskFunction(g),L=i-1;L>0;L-=2)for(L==6&&(L-=1);;){for(var T=0;T<2;T+=1)if(t[f][L-T]==null){var F=!1;P<a.length&&(F=(a[P]>>>w&1)==1),I(f,L-T)&&(F=!F),t[f][L-T]=F,(w-=1)==-1&&(P+=1,w=7)}if((f+=l)<0||i<=f){f-=l,l=-l;break}}},B=function(a,g,l){for(var f=j.getRSBlocks(a,g),w=gt(),P=0;P<l.length;P+=1){var I=l[P];w.put(I.getMode(),4),w.put(I.getLength(),tt.getLengthInBits(I.getMode(),a)),I.write(w)}var L=0;for(P=0;P<f.length;P+=1)L+=f[P].dataCount;if(w.getLengthInBits()>8*L)throw"code length overflow. ("+w.getLengthInBits()+">"+8*L+")";for(w.getLengthInBits()+4<=8*L&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=8*L||(w.put(236,8),w.getLengthInBits()>=8*L));)w.put(17,8);return(function(T,F){for(var N=0,et=0,K=0,W=new Array(F.length),U=new Array(F.length),R=0;R<F.length;R+=1){var X=F[R].dataCount,J=F[R].totalCount-X;et=Math.max(et,X),K=Math.max(K,J),W[R]=new Array(X);for(var q=0;q<W[R].length;q+=1)W[R][q]=255&T.getBuffer()[q+N];N+=X;var ot=tt.getErrorCorrectPolynomial(J),it=k(W[R],ot.getLength()-1).mod(ot);for(U[R]=new Array(ot.getLength()-1),q=0;q<U[R].length;q+=1){var nt=q+it.getLength()-U[R].length;U[R][q]=nt>=0?it.getAt(nt):0}}var Et=0;for(q=0;q<F.length;q+=1)Et+=F[q].totalCount;var St=new Array(Et),ht=0;for(q=0;q<et;q+=1)for(R=0;R<F.length;R+=1)q<W[R].length&&(St[ht]=W[R][q],ht+=1);for(q=0;q<K;q+=1)for(R=0;R<F.length;R+=1)q<U[R].length&&(St[ht]=U[R][q],ht+=1);return St})(w,f)};u.addData=function(a,g){var l=null;switch(g=g||"Byte"){case"Numeric":l=kt(a);break;case"Alphanumeric":l=At(a);break;case"Byte":l=bt(a);break;case"Kanji":l=Mt(a);break;default:throw"mode:"+g}n.push(l),o=null},u.isDark=function(a,g){if(a<0||i<=a||g<0||i<=g)throw a+","+g;return t[a][g]},u.getModuleCount=function(){return i},u.make=function(){if(c<1){for(var a=1;a<40;a++){for(var g=j.getRSBlocks(a,e),l=gt(),f=0;f<n.length;f++){var w=n[f];l.put(w.getMode(),4),l.put(w.getLength(),tt.getLengthInBits(w.getMode(),a)),w.write(l)}var P=0;for(f=0;f<g.length;f++)P+=g[f].dataCount;if(l.getLengthInBits()<=8*P)break}c=a}x(!1,(function(){for(var I=0,L=0,T=0;T<8;T+=1){x(!0,T);var F=tt.getLostPoint(u);(T==0||I>F)&&(I=F,L=T)}return L})())},u.createTableTag=function(a,g){a=a||2;var l="";l+='<table style="',l+=" border-width: 0px; border-style: none;",l+=" border-collapse: collapse;",l+=" padding: 0px; margin: "+(g=g===void 0?4*a:g)+"px;",l+='">',l+="<tbody>";for(var f=0;f<u.getModuleCount();f+=1){l+="<tr>";for(var w=0;w<u.getModuleCount();w+=1)l+='<td style="',l+=" border-width: 0px; border-style: none;",l+=" border-collapse: collapse;",l+=" padding: 0px; margin: 0px;",l+=" width: "+a+"px;",l+=" height: "+a+"px;",l+=" background-color: ",l+=u.isDark(f,w)?"#000000":"#ffffff",l+=";",l+='"/>';l+="</tr>"}return(l+="</tbody>")+"</table>"},u.createSvgTag=function(a,g,l,f){var w={};typeof arguments[0]=="object"&&(a=(w=arguments[0]).cellSize,g=w.margin,l=w.alt,f=w.title),a=a||2,g=g===void 0?4*a:g,(l=typeof l=="string"?{text:l}:l||{}).text=l.text||null,l.id=l.text?l.id||"qrcode-description":null,(f=typeof f=="string"?{text:f}:f||{}).text=f.text||null,f.id=f.text?f.id||"qrcode-title":null;var P,I,L,T,F=u.getModuleCount()*a+2*g,N="";for(T="l"+a+",0 0,"+a+" -"+a+",0 0,-"+a+"z ",N+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',N+=w.scalable?"":' width="'+F+'px" height="'+F+'px"',N+=' viewBox="0 0 '+F+" "+F+'" ',N+=' preserveAspectRatio="xMinYMin meet"',N+=f.text||l.text?' role="img" aria-labelledby="'+z([f.id,l.id].join(" ").trim())+'"':"",N+=">",N+=f.text?'<title id="'+z(f.id)+'">'+z(f.text)+"</title>":"",N+=l.text?'<description id="'+z(l.id)+'">'+z(l.text)+"</description>":"",N+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',N+='<path d="',I=0;I<u.getModuleCount();I+=1)for(L=I*a+g,P=0;P<u.getModuleCount();P+=1)u.isDark(I,P)&&(N+="M"+(P*a+g)+","+L+T);return(N+='" stroke="transparent" fill="black"/>')+"</svg>"},u.createDataURL=function(a,g){a=a||2,g=g===void 0?4*a:g;var l=u.getModuleCount()*a+2*g,f=g,w=l-g;return yt(l,l,(function(P,I){if(f<=P&&P<w&&f<=I&&I<w){var L=Math.floor((P-f)/a),T=Math.floor((I-f)/a);return u.isDark(T,L)?0:1}return 1}))},u.createImgTag=function(a,g,l){a=a||2,g=g===void 0?4*a:g;var f=u.getModuleCount()*a+2*g,w="";return w+="<img",w+=' src="',w+=u.createDataURL(a,g),w+='"',w+=' width="',w+=f,w+='"',w+=' height="',w+=f,w+='"',l&&(w+=' alt="',w+=z(l),w+='"'),w+"/>"};var z=function(a){for(var g="",l=0;l<a.length;l+=1){var f=a.charAt(l);switch(f){case"<":g+="&lt;";break;case">":g+="&gt;";break;case"&":g+="&amp;";break;case'"':g+="&quot;";break;default:g+=f}}return g};return u.createASCII=function(a,g){if((a=a||1)<2)return(function(W){W=W===void 0?2:W;var U,R,X,J,q,ot=1*u.getModuleCount()+2*W,it=W,nt=ot-W,Et={"██":"█","█ ":"▀"," █":"▄","  ":" "},St={"██":"▀","█ ":"▀"," █":" ","  ":" "},ht="";for(U=0;U<ot;U+=2){for(X=Math.floor((U-it)/1),J=Math.floor((U+1-it)/1),R=0;R<ot;R+=1)q="█",it<=R&&R<nt&&it<=U&&U<nt&&u.isDark(X,Math.floor((R-it)/1))&&(q=" "),it<=R&&R<nt&&it<=U+1&&U+1<nt&&u.isDark(J,Math.floor((R-it)/1))?q+=" ":q+="█",ht+=W<1&&U+1>=nt?St[q]:Et[q];ht+=`
`}return ot%2&&W>0?ht.substring(0,ht.length-ot-1)+Array(ot+1).join("▀"):ht.substring(0,ht.length-1)})(g);a-=1,g=g===void 0?2*a:g;var l,f,w,P,I=u.getModuleCount()*a+2*g,L=g,T=I-g,F=Array(a+1).join("██"),N=Array(a+1).join("  "),et="",K="";for(l=0;l<I;l+=1){for(w=Math.floor((l-L)/a),K="",f=0;f<I;f+=1)P=1,L<=f&&f<T&&L<=l&&l<T&&u.isDark(w,Math.floor((f-L)/a))&&(P=0),K+=P?F:N;for(w=0;w<a;w+=1)et+=K+`
`}return et.substring(0,et.length-1)},u.renderTo2dContext=function(a,g){g=g||2;for(var l=u.getModuleCount(),f=0;f<l;f++)for(var w=0;w<l;w++)a.fillStyle=u.isDark(f,w)?"black":"white",a.fillRect(f*g,w*g,g,g)},u};G.stringToBytes=(G.stringToBytesFuncs={default:function(v){for(var p=[],c=0;c<v.length;c+=1){var e=v.charCodeAt(c);p.push(255&e)}return p}}).default,G.createStringToBytes=function(v,p){var c=(function(){for(var t=qt(v),i=function(){var M=t.read();if(M==-1)throw"eof";return M},o=0,n={};;){var u=t.read();if(u==-1)break;var x=i(),_=i()<<8|i();n[String.fromCharCode(u<<8|x)]=_,o+=1}if(o!=p)throw o+" != "+p;return n})(),e=63;return function(t){for(var i=[],o=0;o<t.length;o+=1){var n=t.charCodeAt(o);if(n<128)i.push(n);else{var u=c[t.charAt(o)];typeof u=="number"?(255&u)==u?i.push(u):(i.push(u>>>8),i.push(255&u)):i.push(e)}}return i}};var at,rt,Z,H,ut,ct={L:1,M:0,Q:3,H:2},tt=(at=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],rt=1335,Z=7973,ut=function(v){for(var p=0;v!=0;)p+=1,v>>>=1;return p},(H={}).getBCHTypeInfo=function(v){for(var p=v<<10;ut(p)-ut(rt)>=0;)p^=rt<<ut(p)-ut(rt);return 21522^(v<<10|p)},H.getBCHTypeNumber=function(v){for(var p=v<<12;ut(p)-ut(Z)>=0;)p^=Z<<ut(p)-ut(Z);return v<<12|p},H.getPatternPosition=function(v){return at[v-1]},H.getMaskFunction=function(v){switch(v){case 0:return function(p,c){return(p+c)%2==0};case 1:return function(p,c){return p%2==0};case 2:return function(p,c){return c%3==0};case 3:return function(p,c){return(p+c)%3==0};case 4:return function(p,c){return(Math.floor(p/2)+Math.floor(c/3))%2==0};case 5:return function(p,c){return p*c%2+p*c%3==0};case 6:return function(p,c){return(p*c%2+p*c%3)%2==0};case 7:return function(p,c){return(p*c%3+(p+c)%2)%2==0};default:throw"bad maskPattern:"+v}},H.getErrorCorrectPolynomial=function(v){for(var p=k([1],0),c=0;c<v;c+=1)p=p.multiply(k([1,V.gexp(c)],0));return p},H.getLengthInBits=function(v,p){if(1<=p&&p<10)switch(v){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+v}else if(p<27)switch(v){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+v}else{if(!(p<41))throw"type:"+p;switch(v){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+v}}},H.getLostPoint=function(v){for(var p=v.getModuleCount(),c=0,e=0;e<p;e+=1)for(var t=0;t<p;t+=1){for(var i=0,o=v.isDark(e,t),n=-1;n<=1;n+=1)if(!(e+n<0||p<=e+n))for(var u=-1;u<=1;u+=1)t+u<0||p<=t+u||n==0&&u==0||o==v.isDark(e+n,t+u)&&(i+=1);i>5&&(c+=3+i-5)}for(e=0;e<p-1;e+=1)for(t=0;t<p-1;t+=1){var x=0;v.isDark(e,t)&&(x+=1),v.isDark(e+1,t)&&(x+=1),v.isDark(e,t+1)&&(x+=1),v.isDark(e+1,t+1)&&(x+=1),x!=0&&x!=4||(c+=3)}for(e=0;e<p;e+=1)for(t=0;t<p-6;t+=1)v.isDark(e,t)&&!v.isDark(e,t+1)&&v.isDark(e,t+2)&&v.isDark(e,t+3)&&v.isDark(e,t+4)&&!v.isDark(e,t+5)&&v.isDark(e,t+6)&&(c+=40);for(t=0;t<p;t+=1)for(e=0;e<p-6;e+=1)v.isDark(e,t)&&!v.isDark(e+1,t)&&v.isDark(e+2,t)&&v.isDark(e+3,t)&&v.isDark(e+4,t)&&!v.isDark(e+5,t)&&v.isDark(e+6,t)&&(c+=40);var _=0;for(t=0;t<p;t+=1)for(e=0;e<p;e+=1)v.isDark(e,t)&&(_+=1);return c+Math.abs(100*_/p/p-50)/5*10},H),V=(function(){for(var v=new Array(256),p=new Array(256),c=0;c<8;c+=1)v[c]=1<<c;for(c=8;c<256;c+=1)v[c]=v[c-4]^v[c-5]^v[c-6]^v[c-8];for(c=0;c<255;c+=1)p[v[c]]=c;return{glog:function(e){if(e<1)throw"glog("+e+")";return p[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return v[e]}}})();function k(v,p){if(v.length===void 0)throw v.length+"/"+p;var c=(function(){for(var t=0;t<v.length&&v[t]==0;)t+=1;for(var i=new Array(v.length-t+p),o=0;o<v.length-t;o+=1)i[o]=v[o+t];return i})(),e={getAt:function(t){return c[t]},getLength:function(){return c.length},multiply:function(t){for(var i=new Array(e.getLength()+t.getLength()-1),o=0;o<e.getLength();o+=1)for(var n=0;n<t.getLength();n+=1)i[o+n]^=V.gexp(V.glog(e.getAt(o))+V.glog(t.getAt(n)));return k(i,0)},mod:function(t){if(e.getLength()-t.getLength()<0)return e;for(var i=V.glog(e.getAt(0))-V.glog(t.getAt(0)),o=new Array(e.getLength()),n=0;n<e.getLength();n+=1)o[n]=e.getAt(n);for(n=0;n<t.getLength();n+=1)o[n]^=V.gexp(V.glog(t.getAt(n))+i);return k(o,0).mod(t)}};return e}var j=(function(){var v=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p=function(e,t){var i={};return i.totalCount=e,i.dataCount=t,i},c={getRSBlocks:function(e,t){var i=(function(E,$){switch($){case ct.L:return v[4*(E-1)+0];case ct.M:return v[4*(E-1)+1];case ct.Q:return v[4*(E-1)+2];case ct.H:return v[4*(E-1)+3];default:return}})(e,t);if(i===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var o=i.length/3,n=[],u=0;u<o;u+=1)for(var x=i[3*u+0],_=i[3*u+1],M=i[3*u+2],C=0;C<x;C+=1)n.push(p(_,M));return n}};return c})(),gt=function(){var v=[],p=0,c={getBuffer:function(){return v},getAt:function(e){var t=Math.floor(e/8);return(v[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i+=1)c.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return p},putBit:function(e){var t=Math.floor(p/8);v.length<=t&&v.push(0),e&&(v[t]|=128>>>p%8),p+=1}};return c},kt=function(v){var p=v,c={getMode:function(){return 1},getLength:function(i){return p.length},write:function(i){for(var o=p,n=0;n+2<o.length;)i.put(e(o.substring(n,n+3)),10),n+=3;n<o.length&&(o.length-n==1?i.put(e(o.substring(n,n+1)),4):o.length-n==2&&i.put(e(o.substring(n,n+2)),7))}},e=function(i){for(var o=0,n=0;n<i.length;n+=1)o=10*o+t(i.charAt(n));return o},t=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;throw"illegal char :"+i};return c},At=function(v){var p=v,c={getMode:function(){return 2},getLength:function(t){return p.length},write:function(t){for(var i=p,o=0;o+1<i.length;)t.put(45*e(i.charAt(o))+e(i.charAt(o+1)),11),o+=2;o<i.length&&t.put(e(i.charAt(o)),6)}},e=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-48;if("A"<=t&&t<="Z")return t.charCodeAt(0)-65+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return c},bt=function(v){var p=G.stringToBytes(v);return{getMode:function(){return 4},getLength:function(c){return p.length},write:function(c){for(var e=0;e<p.length;e+=1)c.put(p[e],8)}}},Mt=function(v){var p=G.stringToBytesFuncs.SJIS;if(!p)throw"sjis not supported.";(function(){var t=p("友");if(t.length!=2||(t[0]<<8|t[1])!=38726)throw"sjis not supported."})();var c=p(v),e={getMode:function(){return 8},getLength:function(t){return~~(c.length/2)},write:function(t){for(var i=c,o=0;o+1<i.length;){var n=(255&i[o])<<8|255&i[o+1];if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw"illegal char at "+(o+1)+"/"+n;n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13),o+=2}if(o<i.length)throw"illegal char at "+(o+1)}};return e},Ot=function(){var v=[],p={writeByte:function(c){v.push(255&c)},writeShort:function(c){p.writeByte(c),p.writeByte(c>>>8)},writeBytes:function(c,e,t){e=e||0,t=t||c.length;for(var i=0;i<t;i+=1)p.writeByte(c[i+e])},writeString:function(c){for(var e=0;e<c.length;e+=1)p.writeByte(c.charCodeAt(e))},toByteArray:function(){return v},toString:function(){var c="";c+="[";for(var e=0;e<v.length;e+=1)e>0&&(c+=","),c+=v[e];return c+"]"}};return p},qt=function(v){var p=v,c=0,e=0,t=0,i={read:function(){for(;t<8;){if(c>=p.length){if(t==0)return-1;throw"unexpected end of file./"+t}var n=p.charAt(c);if(c+=1,n=="=")return t=0,-1;n.match(/^\s$/)||(e=e<<6|o(n.charCodeAt(0)),t+=6)}var u=e>>>t-8&255;return t-=8,u}},o=function(n){if(65<=n&&n<=90)return n-65;if(97<=n&&n<=122)return n-97+26;if(48<=n&&n<=57)return n-48+52;if(n==43)return 62;if(n==47)return 63;throw"c:"+n};return i},yt=function(v,p,c){for(var e=(function(_,M){var C=_,E=M,$=new Array(_*M),D={setPixel:function(a,g,l){$[g*C+a]=l},write:function(a){a.writeString("GIF87a"),a.writeShort(C),a.writeShort(E),a.writeByte(128),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(255),a.writeByte(255),a.writeByte(255),a.writeString(","),a.writeShort(0),a.writeShort(0),a.writeShort(C),a.writeShort(E),a.writeByte(0);var g=B(2);a.writeByte(2);for(var l=0;g.length-l>255;)a.writeByte(255),a.writeBytes(g,l,255),l+=255;a.writeByte(g.length-l),a.writeBytes(g,l,g.length-l),a.writeByte(0),a.writeString(";")}},B=function(a){for(var g=1<<a,l=1+(1<<a),f=a+1,w=z(),P=0;P<g;P+=1)w.add(String.fromCharCode(P));w.add(String.fromCharCode(g)),w.add(String.fromCharCode(l));var I,L,T,F=Ot(),N=(I=F,L=0,T=0,{write:function(U,R){if(U>>>R)throw"length over";for(;L+R>=8;)I.writeByte(255&(U<<L|T)),R-=8-L,U>>>=8-L,T=0,L=0;T|=U<<L,L+=R},flush:function(){L>0&&I.writeByte(T)}});N.write(g,f);var et=0,K=String.fromCharCode($[et]);for(et+=1;et<$.length;){var W=String.fromCharCode($[et]);et+=1,w.contains(K+W)?K+=W:(N.write(w.indexOf(K),f),w.size()<4095&&(w.size()==1<<f&&(f+=1),w.add(K+W)),K=W)}return N.write(w.indexOf(K),f),N.write(l,f),N.flush(),F.toByteArray()},z=function(){var a={},g=0,l={add:function(f){if(l.contains(f))throw"dup key:"+f;a[f]=g,g+=1},size:function(){return g},indexOf:function(f){return a[f]},contains:function(f){return a[f]!==void 0}};return l};return D})(v,p),t=0;t<p;t+=1)for(var i=0;i<v;i+=1)e.setPixel(i,t,c(i,t));var o=Ot();e.write(o);for(var n=(function(){var _=0,M=0,C=0,E="",$={},D=function(z){E+=String.fromCharCode(B(63&z))},B=function(z){if(!(z<0)){if(z<26)return 65+z;if(z<52)return z-26+97;if(z<62)return z-52+48;if(z==62)return 43;if(z==63)return 47}throw"n:"+z};return $.writeByte=function(z){for(_=_<<8|255&z,M+=8,C+=1;M>=6;)D(_>>>M-6),M-=6},$.flush=function(){if(M>0&&(D(_<<6-M),_=0,M=0),C%3!=0)for(var z=3-C%3,a=0;a<z;a+=1)E+="="},$.toString=function(){return E},$})(),u=o.toByteArray(),x=0;x<u.length;x+=1)n.writeByte(u[x]);return n.flush(),"data:image/gif;base64,"+n};return G})();Y.stringToBytesFuncs["UTF-8"]=function(G){return(function(at){for(var rt=[],Z=0;Z<at.length;Z++){var H=at.charCodeAt(Z);H<128?rt.push(H):H<2048?rt.push(192|H>>6,128|63&H):H<55296||H>=57344?rt.push(224|H>>12,128|H>>6&63,128|63&H):(Z++,H=65536+((1023&H)<<10|1023&at.charCodeAt(Z)),rt.push(240|H>>18,128|H>>12&63,128|H>>6&63,128|63&H))}return rt})(G)},(Q=typeof(O=function(){return Y})=="function"?O.apply(S,[]):O)===void 0||(y.exports=Q)}},d={};function m(y){var S=d[y];if(S!==void 0)return S.exports;var O=d[y]={exports:{}};return h[y](O,O.exports,m),O.exports}m.n=y=>{var S=y&&y.__esModule?()=>y.default:()=>y;return m.d(S,{a:S}),S},m.d=(y,S)=>{for(var O in S)m.o(S,O)&&!m.o(y,O)&&Object.defineProperty(y,O,{enumerable:!0,get:S[O]})},m.o=(y,S)=>Object.prototype.hasOwnProperty.call(y,S);var b={};return(()=>{m.d(b,{default:()=>p});const y=c=>!!c&&typeof c=="object"&&!Array.isArray(c);function S(c,...e){if(!e.length)return c;const t=e.shift();return t!==void 0&&y(c)&&y(t)?(c=Object.assign({},c),Object.keys(t).forEach((i=>{const o=c[i],n=t[i];Array.isArray(o)&&Array.isArray(n)?c[i]=n:y(o)&&y(n)?c[i]=S(Object.assign({},o),n):c[i]=n})),S(c,...e)):c}function O(c,e){const t=document.createElement("a");t.download=e,t.href=c,document.body.appendChild(t),t.click(),document.body.removeChild(t)}const Q={L:.07,M:.15,Q:.25,H:.3};class Y{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,o){let n;switch(this._type){case"dots":n=this._drawDot;break;case"classy":n=this._drawClassy;break;case"classy-rounded":n=this._drawClassyRounded;break;case"rounded":n=this._drawRounded;break;case"extra-rounded":n=this._drawExtraRounded;break;default:n=this._drawSquare}n.call(this,{x:e,y:t,size:i,getNeighbor:o})}_rotateFigure({x:e,y:t,size:i,rotation:o=0,draw:n}){var u;const x=e+i/2,_=t+i/2;n(),(u=this._element)===null||u===void 0||u.setAttribute("transform",`rotate(${180*o/Math.PI},${x},${_})`)}_basicDot(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(o+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(o)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${o}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${o}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${o}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${o}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:e,y:t,size:i}){this._basicDot({x:e,y:t,size:i,rotation:0})}_drawSquare({x:e,y:t,size:i}){this._basicSquare({x:e,y:t,size:i,rotation:0})}_drawRounded({x:e,y:t,size:i,getNeighbor:o}){const n=o?+o(-1,0):0,u=o?+o(1,0):0,x=o?+o(0,-1):0,_=o?+o(0,1):0,M=n+u+x+_;if(M!==0)if(M>2||n&&u||x&&_)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(M===2){let C=0;return n&&x?C=Math.PI/2:x&&u?C=Math.PI:u&&_&&(C=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:i,rotation:C})}if(M===1){let C=0;return x?C=Math.PI/2:u?C=Math.PI:_&&(C=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:C})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawExtraRounded({x:e,y:t,size:i,getNeighbor:o}){const n=o?+o(-1,0):0,u=o?+o(1,0):0,x=o?+o(0,-1):0,_=o?+o(0,1):0,M=n+u+x+_;if(M!==0)if(M>2||n&&u||x&&_)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(M===2){let C=0;return n&&x?C=Math.PI/2:x&&u?C=Math.PI:u&&_&&(C=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:C})}if(M===1){let C=0;return x?C=Math.PI/2:u?C=Math.PI:_&&(C=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:C})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawClassy({x:e,y:t,size:i,getNeighbor:o}){const n=o?+o(-1,0):0,u=o?+o(1,0):0,x=o?+o(0,-1):0,_=o?+o(0,1):0;n+u+x+_!==0?n||x?u||_?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:i,getNeighbor:o}){const n=o?+o(-1,0):0,u=o?+o(1,0):0,x=o?+o(0,-1):0,_=o?+o(0,1):0;n+u+x+_!==0?n||x?u||_?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}}const G={dot:"dot",square:"square",extraRounded:"extra-rounded"},at=Object.values(G);class rt{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,o){let n;switch(this._type){case G.square:n=this._drawSquare;break;case G.extraRounded:n=this._drawExtraRounded;break;default:n=this._drawDot}n.call(this,{x:e,y:t,size:i,rotation:o})}_rotateFigure({x:e,y:t,size:i,rotation:o=0,draw:n}){var u;const x=e+i/2,_=t+i/2;n(),(u=this._element)===null||u===void 0||u.setAttribute("transform",`rotate(${180*o/Math.PI},${x},${_})`)}_basicDot(e){const{size:t,x:i,y:o}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i+t/2} ${o}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${n}a ${t/2-n} ${t/2-n} 0 1 1 -0.1 0Z`)}}))}_basicSquare(e){const{size:t,x:i,y:o}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${o}v ${t}h ${t}v `+-t+`zM ${i+n} ${o+n}h `+(t-2*n)+"v "+(t-2*n)+"h "+(2*n-t)+"z")}}))}_basicExtraRounded(e){const{size:t,x:i,y:o}=e,n=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${o+2.5*n}v `+2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*n} ${2.5*n}h `+2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*n} ${2.5*-n}v `+-2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*-n} ${2.5*-n}h `+-2*n+`a ${2.5*n} ${2.5*n}, 0, 0, 0, ${2.5*-n} ${2.5*n}M ${i+2.5*n} ${o+n}h `+2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*n} ${1.5*n}v `+2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*-n} ${1.5*n}h `+-2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*-n} ${1.5*-n}v `+-2*n+`a ${1.5*n} ${1.5*n}, 0, 0, 1, ${1.5*n} ${1.5*-n}`)}}))}_drawDot({x:e,y:t,size:i,rotation:o}){this._basicDot({x:e,y:t,size:i,rotation:o})}_drawSquare({x:e,y:t,size:i,rotation:o}){this._basicSquare({x:e,y:t,size:i,rotation:o})}_drawExtraRounded({x:e,y:t,size:i,rotation:o}){this._basicExtraRounded({x:e,y:t,size:i,rotation:o})}}const Z={dot:"dot",square:"square"},H=Object.values(Z);class ut{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,o){let n;n=this._type===Z.square?this._drawSquare:this._drawDot,n.call(this,{x:e,y:t,size:i,rotation:o})}_rotateFigure({x:e,y:t,size:i,rotation:o=0,draw:n}){var u;const x=e+i/2,_=t+i/2;n(),(u=this._element)===null||u===void 0||u.setAttribute("transform",`rotate(${180*o/Math.PI},${x},${_})`)}_basicDot(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(o+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:i,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(o)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:e,y:t,size:i,rotation:o}){this._basicDot({x:e,y:t,size:i,rotation:o})}_drawSquare({x:e,y:t,size:i,rotation:o}){this._basicSquare({x:e,y:t,size:i,rotation:o})}}const ct="circle",tt=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],V=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class k{constructor(e,t){this._roundSize=i=>this._options.dotsOptions.roundSize?Math.floor(i):i,this._window=t,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=e.image,this._instanceId=k.instanceCount++,this._options=e}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(e){const t=e.getModuleCount(),i=Math.min(this._options.width,this._options.height)-2*this._options.margin,o=this._options.shape===ct?i/Math.sqrt(2):i,n=this._roundSize(o/t);let u={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:x,qrOptions:_}=this._options,M=x.imageSize*Q[_.errorCorrectionLevel],C=Math.floor(M*t*t);u=(function({originalHeight:E,originalWidth:$,maxHiddenDots:D,maxHiddenAxisDots:B,dotSize:z}){const a={x:0,y:0},g={x:0,y:0};if(E<=0||$<=0||D<=0||z<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const l=E/$;return a.x=Math.floor(Math.sqrt(D/l)),a.x<=0&&(a.x=1),B&&B<a.x&&(a.x=B),a.x%2==0&&a.x--,g.x=a.x*z,a.y=1+2*Math.ceil((a.x*l-1)/2),g.y=Math.round(g.x*l),(a.y*a.x>D||B&&B<a.y)&&(B&&B<a.y?(a.y=B,a.y%2==0&&a.x--):a.y-=2,g.y=a.y*z,a.x=1+2*Math.ceil((a.y/l-1)/2),g.x=Math.round(g.y/l)),{height:g.y,width:g.x,hideYDots:a.y,hideXDots:a.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:C,maxHiddenAxisDots:t-14,dotSize:n})}this.drawBackground(),this.drawDots(((x,_)=>{var M,C,E,$,D,B;return!(this._options.imageOptions.hideBackgroundDots&&x>=(t-u.hideYDots)/2&&x<(t+u.hideYDots)/2&&_>=(t-u.hideXDots)/2&&_<(t+u.hideXDots)/2||!((M=tt[x])===null||M===void 0)&&M[_]||!((C=tt[x-t+7])===null||C===void 0)&&C[_]||!((E=tt[x])===null||E===void 0)&&E[_-t+7]||!(($=V[x])===null||$===void 0)&&$[_]||!((D=V[x-t+7])===null||D===void 0)&&D[_]||!((B=V[x])===null||B===void 0)&&B[_-t+7])})),this.drawCorners(),this._options.image&&await this.drawImage({width:u.width,height:u.height,count:t,dotSize:n})}drawBackground(){var e,t,i;const o=this._element,n=this._options;if(o){const u=(e=n.backgroundOptions)===null||e===void 0?void 0:e.gradient,x=(t=n.backgroundOptions)===null||t===void 0?void 0:t.color;let _=n.height,M=n.width;if(u||x){const C=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((i=n.backgroundOptions)===null||i===void 0)&&i.round&&(_=M=Math.min(n.width,n.height),C.setAttribute("rx",String(_/2*n.backgroundOptions.round))),C.setAttribute("x",String(this._roundSize((n.width-M)/2))),C.setAttribute("y",String(this._roundSize((n.height-_)/2))),C.setAttribute("width",String(M)),C.setAttribute("height",String(_)),this._backgroundClipPath.appendChild(C),this._createColor({options:u,color:x,additionalRotation:0,x:0,y:0,height:n.height,width:n.width,name:`background-color-${this._instanceId}`})}}}drawDots(e){var t,i;if(!this._qr)throw"QR code is not defined";const o=this._options,n=this._qr.getModuleCount();if(n>o.width||n>o.height)throw"The canvas is too small.";const u=Math.min(o.width,o.height)-2*o.margin,x=o.shape===ct?u/Math.sqrt(2):u,_=this._roundSize(x/n),M=this._roundSize((o.width-n*_)/2),C=this._roundSize((o.height-n*_)/2),E=new Y({svg:this._element,type:o.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(t=o.dotsOptions)===null||t===void 0?void 0:t.gradient,color:o.dotsOptions.color,additionalRotation:0,x:0,y:0,height:o.height,width:o.width,name:`dot-color-${this._instanceId}`});for(let $=0;$<n;$++)for(let D=0;D<n;D++)e&&!e($,D)||!((i=this._qr)===null||i===void 0)&&i.isDark($,D)&&(E.draw(M+D*_,C+$*_,_,((B,z)=>!(D+B<0||$+z<0||D+B>=n||$+z>=n)&&!(e&&!e($+z,D+B))&&!!this._qr&&this._qr.isDark($+z,D+B))),E._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(E._element));if(o.shape===ct){const $=this._roundSize((u/_-n)/2),D=n+2*$,B=M-$*_,z=C-$*_,a=[],g=this._roundSize(D/2);for(let l=0;l<D;l++){a[l]=[];for(let f=0;f<D;f++)l>=$-1&&l<=D-$&&f>=$-1&&f<=D-$||Math.sqrt((l-g)*(l-g)+(f-g)*(f-g))>g?a[l][f]=0:a[l][f]=this._qr.isDark(f-2*$<0?f:f>=n?f-2*$:f-$,l-2*$<0?l:l>=n?l-2*$:l-$)?1:0}for(let l=0;l<D;l++)for(let f=0;f<D;f++)a[l][f]&&(E.draw(B+f*_,z+l*_,_,((w,P)=>{var I;return!!(!((I=a[l+P])===null||I===void 0)&&I[f+w])})),E._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(E._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const e=this._element,t=this._options;if(!e)throw"Element code is not defined";const i=this._qr.getModuleCount(),o=Math.min(t.width,t.height)-2*t.margin,n=t.shape===ct?o/Math.sqrt(2):o,u=this._roundSize(n/i),x=7*u,_=3*u,M=this._roundSize((t.width-i*u)/2),C=this._roundSize((t.height-i*u)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((([E,$,D])=>{var B,z,a,g,l,f,w,P,I,L,T,F,N,et;const K=M+E*u*(i-7),W=C+$*u*(i-7);let U=this._dotsClipPath,R=this._dotsClipPath;if((!((B=t.cornersSquareOptions)===null||B===void 0)&&B.gradient||!((z=t.cornersSquareOptions)===null||z===void 0)&&z.color)&&(U=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),U.setAttribute("id",`clip-path-corners-square-color-${E}-${$}-${this._instanceId}`),this._defs.appendChild(U),this._cornersSquareClipPath=this._cornersDotClipPath=R=U,this._createColor({options:(a=t.cornersSquareOptions)===null||a===void 0?void 0:a.gradient,color:(g=t.cornersSquareOptions)===null||g===void 0?void 0:g.color,additionalRotation:D,x:K,y:W,height:x,width:x,name:`corners-square-color-${E}-${$}-${this._instanceId}`})),((l=t.cornersSquareOptions)===null||l===void 0?void 0:l.type)&&at.includes(t.cornersSquareOptions.type)){const X=new rt({svg:this._element,type:t.cornersSquareOptions.type,window:this._window});X.draw(K,W,x,D),X._element&&U&&U.appendChild(X._element)}else{const X=new Y({svg:this._element,type:((f=t.cornersSquareOptions)===null||f===void 0?void 0:f.type)||t.dotsOptions.type,window:this._window});for(let J=0;J<tt.length;J++)for(let q=0;q<tt[J].length;q++)!((w=tt[J])===null||w===void 0)&&w[q]&&(X.draw(K+q*u,W+J*u,u,((ot,it)=>{var nt;return!!(!((nt=tt[J+it])===null||nt===void 0)&&nt[q+ot])})),X._element&&U&&U.appendChild(X._element))}if((!((P=t.cornersDotOptions)===null||P===void 0)&&P.gradient||!((I=t.cornersDotOptions)===null||I===void 0)&&I.color)&&(R=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),R.setAttribute("id",`clip-path-corners-dot-color-${E}-${$}-${this._instanceId}`),this._defs.appendChild(R),this._cornersDotClipPath=R,this._createColor({options:(L=t.cornersDotOptions)===null||L===void 0?void 0:L.gradient,color:(T=t.cornersDotOptions)===null||T===void 0?void 0:T.color,additionalRotation:D,x:K+2*u,y:W+2*u,height:_,width:_,name:`corners-dot-color-${E}-${$}-${this._instanceId}`})),((F=t.cornersDotOptions)===null||F===void 0?void 0:F.type)&&H.includes(t.cornersDotOptions.type)){const X=new ut({svg:this._element,type:t.cornersDotOptions.type,window:this._window});X.draw(K+2*u,W+2*u,_,D),X._element&&R&&R.appendChild(X._element)}else{const X=new Y({svg:this._element,type:((N=t.cornersDotOptions)===null||N===void 0?void 0:N.type)||t.dotsOptions.type,window:this._window});for(let J=0;J<V.length;J++)for(let q=0;q<V[J].length;q++)!((et=V[J])===null||et===void 0)&&et[q]&&(X.draw(K+q*u,W+J*u,u,((ot,it)=>{var nt;return!!(!((nt=V[J+it])===null||nt===void 0)&&nt[q+ot])})),X._element&&R&&R.appendChild(X._element))}}))}loadImage(){return new Promise(((e,t)=>{var i;const o=this._options;if(!o.image)return t("Image is not defined");if(!((i=o.nodeCanvas)===null||i===void 0)&&i.loadImage)o.nodeCanvas.loadImage(o.image).then((n=>{var u,x;if(this._image=n,this._options.imageOptions.saveAsBlob){const _=(u=o.nodeCanvas)===null||u===void 0?void 0:u.createCanvas(this._image.width,this._image.height);(x=_?.getContext("2d"))===null||x===void 0||x.drawImage(n,0,0),this._imageUri=_?.toDataURL()}e()})).catch(t);else{const n=new this._window.Image;typeof o.imageOptions.crossOrigin=="string"&&(n.crossOrigin=o.imageOptions.crossOrigin),this._image=n,n.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await(async function(u,x){return new Promise((_=>{const M=new x.XMLHttpRequest;M.onload=function(){const C=new x.FileReader;C.onloadend=function(){_(C.result)},C.readAsDataURL(M.response)},M.open("GET",u),M.responseType="blob",M.send()}))})(o.image||"",this._window)),e()},n.src=o.image}}))}async drawImage({width:e,height:t,count:i,dotSize:o}){const n=this._options,u=this._roundSize((n.width-i*o)/2),x=this._roundSize((n.height-i*o)/2),_=u+this._roundSize(n.imageOptions.margin+(i*o-e)/2),M=x+this._roundSize(n.imageOptions.margin+(i*o-t)/2),C=e-2*n.imageOptions.margin,E=t-2*n.imageOptions.margin,$=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");$.setAttribute("href",this._imageUri||""),$.setAttribute("xlink:href",this._imageUri||""),$.setAttribute("x",String(_)),$.setAttribute("y",String(M)),$.setAttribute("width",`${C}px`),$.setAttribute("height",`${E}px`),this._element.appendChild($)}_createColor({options:e,color:t,additionalRotation:i,x:o,y:n,height:u,width:x,name:_}){const M=x>u?x:u,C=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(C.setAttribute("x",String(o)),C.setAttribute("y",String(n)),C.setAttribute("height",String(u)),C.setAttribute("width",String(x)),C.setAttribute("clip-path",`url('#clip-path-${_}')`),e){let E;if(e.type==="radial")E=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),E.setAttribute("id",_),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("fx",String(o+x/2)),E.setAttribute("fy",String(n+u/2)),E.setAttribute("cx",String(o+x/2)),E.setAttribute("cy",String(n+u/2)),E.setAttribute("r",String(M/2));else{const $=((e.rotation||0)+i)%(2*Math.PI),D=($+2*Math.PI)%(2*Math.PI);let B=o+x/2,z=n+u/2,a=o+x/2,g=n+u/2;D>=0&&D<=.25*Math.PI||D>1.75*Math.PI&&D<=2*Math.PI?(B-=x/2,z-=u/2*Math.tan($),a+=x/2,g+=u/2*Math.tan($)):D>.25*Math.PI&&D<=.75*Math.PI?(z-=u/2,B-=x/2/Math.tan($),g+=u/2,a+=x/2/Math.tan($)):D>.75*Math.PI&&D<=1.25*Math.PI?(B+=x/2,z+=u/2*Math.tan($),a-=x/2,g-=u/2*Math.tan($)):D>1.25*Math.PI&&D<=1.75*Math.PI&&(z+=u/2,B+=x/2/Math.tan($),g-=u/2,a-=x/2/Math.tan($)),E=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),E.setAttribute("id",_),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("x1",String(Math.round(B))),E.setAttribute("y1",String(Math.round(z))),E.setAttribute("x2",String(Math.round(a))),E.setAttribute("y2",String(Math.round(g)))}e.colorStops.forEach((({offset:$,color:D})=>{const B=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");B.setAttribute("offset",100*$+"%"),B.setAttribute("stop-color",D),E.appendChild(B)})),C.setAttribute("fill",`url('#${_}')`),this._defs.appendChild(E)}else t&&C.setAttribute("fill",t);this._element.appendChild(C)}}k.instanceCount=0;const j=k,gt="canvas",kt={};for(let c=0;c<=40;c++)kt[c]=c;const At={type:gt,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:kt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function bt(c){const e=Object.assign({},c);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map((t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)}))),e}function Mt(c){const e=Object.assign({},c);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=Object.assign(Object.assign({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=Object.assign({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=bt(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=Object.assign({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=bt(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=Object.assign({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=bt(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=Object.assign({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=bt(e.backgroundOptions.gradient))),e}var Ot=m(873),qt=m.n(Ot);function yt(c){if(!c)throw new Error("Extension must be defined");c[0]==="."&&(c=c.substring(1));const e={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[c.toLowerCase()];if(!e)throw new Error(`Extension "${c}" is not supported`);return e}class v{constructor(e){e?.jsdom?this._window=new e.jsdom("",{resources:"usable"}).window:this._window=window,this._options=e?Mt(S(At,e)):At,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}_setupSvg(){if(!this._qr)return;const e=new j(this._options,this._window);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then((()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,e.getElement(),this._options))}))}_setupCanvas(){var e,t;this._qr&&(!((e=this._options.nodeCanvas)===null||e===void 0)&&e.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then((()=>{var i;if(!this._svg)return;const o=this._svg,n=new this._window.XMLSerializer().serializeToString(o),u=btoa(n),x=`data:${yt("svg")};base64,${u}`;if(!((i=this._options.nodeCanvas)===null||i===void 0)&&i.loadImage)return this._options.nodeCanvas.loadImage(x).then((_=>{var M,C;_.width=this._options.width,_.height=this._options.height,(C=(M=this._nodeCanvas)===null||M===void 0?void 0:M.getContext("2d"))===null||C===void 0||C.drawImage(_,0,0)}));{const _=new this._window.Image;return new Promise((M=>{_.onload=()=>{var C,E;(E=(C=this._domCanvas)===null||C===void 0?void 0:C.getContext("2d"))===null||E===void 0||E.drawImage(_,0,0),M()},_.src=x}))}})))}async _getElement(e="png"){if(!this._qr)throw"QR code is empty";return e.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(e){v._clearContainer(this._container),this._options=e?Mt(S(this._options,e)):this._options,this._options.data&&(this._qr=qt()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===gt?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(e){if(e){if(typeof e.appendChild!="function")throw"Container should be a single DOM node";this._options.type===gt?this._domCanvas&&e.appendChild(this._domCanvas):this._svg&&e.appendChild(this._svg),this._container=e}}applyExtension(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(e="png"){if(!this._qr)throw"QR code is empty";const t=await this._getElement(e),i=yt(e);if(!t)return null;if(e.toLowerCase()==="svg"){const o=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(o):new Blob([o],{type:i})}return new Promise((o=>{const n=t;if("toBuffer"in n)if(i==="image/png")o(n.toBuffer(i));else if(i==="image/jpeg")o(n.toBuffer(i));else{if(i!=="application/pdf")throw Error("Unsupported extension");o(n.toBuffer(i))}else"toBlob"in n&&n.toBlob(o,i,1)}))}async download(e){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",i="qr";typeof e=="string"?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof e=="object"&&e!==null&&(e.name&&(i=e.name),e.extension&&(t=e.extension));const o=await this._getElement(t);if(o)if(t.toLowerCase()==="svg"){let n=new XMLSerializer().serializeToString(o);n=`<?xml version="1.0" standalone="no"?>\r
`+n,O(`data:${yt(t)};charset=utf-8,${encodeURIComponent(n)}`,`${i}.svg`)}else O(o.toDataURL(yt(t)),`${i}.${t}`)}}const p=v})(),b.default})()))})(Dt)),Dt.exports}var me=we();const ve=fe(me);function be(r,s){if(r.match(/^[a-z]+:\/\//i))return r;if(r.match(/^\/\//))return window.location.protocol+r;if(r.match(/^[a-z]+:/i))return r;const h=document.implementation.createHTMLDocument(),d=h.createElement("base"),m=h.createElement("a");return h.head.appendChild(d),h.body.appendChild(m),s&&(d.href=s),m.href=r,m.href}const ye=(()=>{let r=0;const s=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(r+=1,`u${s()}${r}`)})();function wt(r){const s=[];for(let h=0,d=r.length;h<d;h++)s.push(r[h]);return s}let _t=null;function te(r={}){return _t||(r.includeStyleProperties?(_t=r.includeStyleProperties,_t):(_t=wt(window.getComputedStyle(document.documentElement)),_t))}function Rt(r,s){const d=(r.ownerDocument.defaultView||window).getComputedStyle(r).getPropertyValue(s);return d?parseFloat(d.replace("px","")):0}function _e(r){const s=Rt(r,"border-left-width"),h=Rt(r,"border-right-width");return r.clientWidth+s+h}function xe(r){const s=Rt(r,"border-top-width"),h=Rt(r,"border-bottom-width");return r.clientHeight+s+h}function ee(r,s={}){const h=s.width||_e(r),d=s.height||xe(r);return{width:h,height:d}}function Se(){let r,s;try{s=process}catch{}const h=s&&s.env?s.env.devicePixelRatio:null;return h&&(r=parseInt(h,10),Number.isNaN(r)&&(r=1)),r||window.devicePixelRatio||1}const lt=16384;function Ce(r){(r.width>lt||r.height>lt)&&(r.width>lt&&r.height>lt?r.width>r.height?(r.height*=lt/r.width,r.width=lt):(r.width*=lt/r.height,r.height=lt):r.width>lt?(r.height*=lt/r.width,r.width=lt):(r.width*=lt/r.height,r.height=lt))}function zt(r){return new Promise((s,h)=>{const d=new Image;d.onload=()=>{d.decode().then(()=>{requestAnimationFrame(()=>s(d))})},d.onerror=h,d.crossOrigin="anonymous",d.decoding="async",d.src=r})}async function $e(r){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(r)).then(encodeURIComponent).then(s=>`data:image/svg+xml;charset=utf-8,${s}`)}async function ke(r,s,h){const d="http://www.w3.org/2000/svg",m=document.createElementNS(d,"svg"),b=document.createElementNS(d,"foreignObject");return m.setAttribute("width",`${s}`),m.setAttribute("height",`${h}`),m.setAttribute("viewBox",`0 0 ${s} ${h}`),b.setAttribute("width","100%"),b.setAttribute("height","100%"),b.setAttribute("x","0"),b.setAttribute("y","0"),b.setAttribute("externalResourcesRequired","true"),m.appendChild(b),b.appendChild(r),$e(m)}const st=(r,s)=>{if(r instanceof s)return!0;const h=Object.getPrototypeOf(r);return h===null?!1:h.constructor.name===s.name||st(h,s)};function Ae(r){const s=r.getPropertyValue("content");return`${r.cssText} content: '${s.replace(/'|"/g,"")}';`}function Me(r,s){return te(s).map(h=>{const d=r.getPropertyValue(h),m=r.getPropertyPriority(h);return`${h}: ${d}${m?" !important":""};`}).join(" ")}function Oe(r,s,h,d){const m=`.${r}:${s}`,b=h.cssText?Ae(h):Me(h,d);return document.createTextNode(`${m}{${b}}`)}function Qt(r,s,h,d){const m=window.getComputedStyle(r,h),b=m.getPropertyValue("content");if(b===""||b==="none")return;const y=ye();try{s.className=`${s.className} ${y}`}catch{return}const S=document.createElement("style");S.appendChild(Oe(y,h,m,d)),s.appendChild(S)}function Ee(r,s,h){Qt(r,s,":before",h),Qt(r,s,":after",h)}const Gt="application/font-woff",Xt="image/jpeg",Pe={woff:Gt,woff2:Gt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Xt,jpeg:Xt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function De(r){const s=/\.([^./]*?)$/g.exec(r);return s?s[1]:""}function Tt(r){const s=De(r).toLowerCase();return Pe[s]||""}function Re(r){return r.split(/,/)[1]}function jt(r){return r.search(/^(data:)/)!==-1}function ze(r,s){return`data:${s};base64,${r}`}async function re(r,s,h){const d=await fetch(r,s);if(d.status===404)throw new Error(`Resource "${d.url}" not found`);const m=await d.blob();return new Promise((b,y)=>{const S=new FileReader;S.onerror=y,S.onloadend=()=>{try{b(h({res:d,result:S.result}))}catch(O){y(O)}},S.readAsDataURL(m)})}const Bt={};function Ie(r,s,h){let d=r.replace(/\?.*/,"");return h&&(d=r),/ttf|otf|eot|woff2?/i.test(d)&&(d=d.replace(/.*\//,"")),s?`[${s}]${d}`:d}async function Ft(r,s,h){const d=Ie(r,s,h.includeQueryParams);if(Bt[d]!=null)return Bt[d];h.cacheBust&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime());let m;try{const b=await re(r,h.fetchRequestInit,({res:y,result:S})=>(s||(s=y.headers.get("Content-Type")||""),Re(S)));m=ze(b,s)}catch(b){m=h.imagePlaceholder||"";let y=`Failed to fetch resource: ${r}`;b&&(y=typeof b=="string"?b:b.message),y&&console.warn(y)}return Bt[d]=m,m}async function qe(r){const s=r.toDataURL();return s==="data:,"?r.cloneNode(!1):zt(s)}async function Le(r,s){if(r.currentSrc){const b=document.createElement("canvas"),y=b.getContext("2d");b.width=r.clientWidth,b.height=r.clientHeight,y?.drawImage(r,0,0,b.width,b.height);const S=b.toDataURL();return zt(S)}const h=r.poster,d=Tt(h),m=await Ft(h,d,s);return zt(m)}async function Be(r,s){var h;try{if(!((h=r?.contentDocument)===null||h===void 0)&&h.body)return await It(r.contentDocument.body,s,!0)}catch{}return r.cloneNode(!1)}async function je(r,s){return st(r,HTMLCanvasElement)?qe(r):st(r,HTMLVideoElement)?Le(r,s):st(r,HTMLIFrameElement)?Be(r,s):r.cloneNode(ne(r))}const Te=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SLOT",ne=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SVG";async function Fe(r,s,h){var d,m;if(ne(s))return s;let b=[];return Te(r)&&r.assignedNodes?b=wt(r.assignedNodes()):st(r,HTMLIFrameElement)&&(!((d=r.contentDocument)===null||d===void 0)&&d.body)?b=wt(r.contentDocument.body.childNodes):b=wt(((m=r.shadowRoot)!==null&&m!==void 0?m:r).childNodes),b.length===0||st(r,HTMLVideoElement)||await b.reduce((y,S)=>y.then(()=>It(S,h)).then(O=>{O&&s.appendChild(O)}),Promise.resolve()),s}function Ue(r,s,h){const d=s.style;if(!d)return;const m=window.getComputedStyle(r);m.cssText?(d.cssText=m.cssText,d.transformOrigin=m.transformOrigin):te(h).forEach(b=>{let y=m.getPropertyValue(b);b==="font-size"&&y.endsWith("px")&&(y=`${Math.floor(parseFloat(y.substring(0,y.length-2)))-.1}px`),st(r,HTMLIFrameElement)&&b==="display"&&y==="inline"&&(y="block"),b==="d"&&s.getAttribute("d")&&(y=`path(${s.getAttribute("d")})`),d.setProperty(b,y,m.getPropertyPriority(b))})}function He(r,s){st(r,HTMLTextAreaElement)&&(s.innerHTML=r.value),st(r,HTMLInputElement)&&s.setAttribute("value",r.value)}function Ve(r,s){if(st(r,HTMLSelectElement)){const d=Array.from(s.children).find(m=>r.value===m.getAttribute("value"));d&&d.setAttribute("selected","")}}function Ne(r,s,h){return st(s,Element)&&(Ue(r,s,h),Ee(r,s,h),He(r,s),Ve(r,s)),s}async function We(r,s){const h=r.querySelectorAll?r.querySelectorAll("use"):[];if(h.length===0)return r;const d={};for(let b=0;b<h.length;b++){const S=h[b].getAttribute("xlink:href");if(S){const O=r.querySelector(S),Q=document.querySelector(S);!O&&Q&&!d[S]&&(d[S]=await It(Q,s,!0))}}const m=Object.values(d);if(m.length){const b="http://www.w3.org/1999/xhtml",y=document.createElementNS(b,"svg");y.setAttribute("xmlns",b),y.style.position="absolute",y.style.width="0",y.style.height="0",y.style.overflow="hidden",y.style.display="none";const S=document.createElementNS(b,"defs");y.appendChild(S);for(let O=0;O<m.length;O++)S.appendChild(m[O]);r.appendChild(y)}return r}async function It(r,s,h){return!h&&s.filter&&!s.filter(r)?null:Promise.resolve(r).then(d=>je(d,s)).then(d=>Fe(r,d,s)).then(d=>Ne(r,d,s)).then(d=>We(d,s))}const ie=/url\((['"]?)([^'"]+?)\1\)/g,Qe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ge=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Xe(r){const s=r.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${s})(['"]?\\))`,"g")}function Ye(r){const s=[];return r.replace(ie,(h,d,m)=>(s.push(m),h)),s.filter(h=>!jt(h))}async function Ke(r,s,h,d,m){try{const b=h?be(s,h):s,y=Tt(s);let S;return m||(S=await Ft(b,y,d)),r.replace(Xe(s),`$1${S}$3`)}catch{}return r}function Ze(r,{preferredFontFormat:s}){return s?r.replace(Ge,h=>{for(;;){const[d,,m]=Qe.exec(h)||[];if(!m)return"";if(m===s)return`src: ${d};`}}):r}function oe(r){return r.search(ie)!==-1}async function se(r,s,h){if(!oe(r))return r;const d=Ze(r,h);return Ye(d).reduce((b,y)=>b.then(S=>Ke(S,y,s,h)),Promise.resolve(d))}async function xt(r,s,h){var d;const m=(d=s.style)===null||d===void 0?void 0:d.getPropertyValue(r);if(m){const b=await se(m,null,h);return s.style.setProperty(r,b,s.style.getPropertyPriority(r)),!0}return!1}async function Je(r,s){await xt("background",r,s)||await xt("background-image",r,s),await xt("mask",r,s)||await xt("-webkit-mask",r,s)||await xt("mask-image",r,s)||await xt("-webkit-mask-image",r,s)}async function tr(r,s){const h=st(r,HTMLImageElement);if(!(h&&!jt(r.src))&&!(st(r,SVGImageElement)&&!jt(r.href.baseVal)))return;const d=h?r.src:r.href.baseVal,m=await Ft(d,Tt(d),s);await new Promise((b,y)=>{r.onload=b,r.onerror=s.onImageErrorHandler?(...O)=>{try{b(s.onImageErrorHandler(...O))}catch(Q){y(Q)}}:y;const S=r;S.decode&&(S.decode=b),S.loading==="lazy"&&(S.loading="eager"),h?(r.srcset="",r.src=m):r.href.baseVal=m})}async function er(r,s){const d=wt(r.childNodes).map(m=>ae(m,s));await Promise.all(d).then(()=>r)}async function ae(r,s){st(r,Element)&&(await Je(r,s),await tr(r,s),await er(r,s))}function rr(r,s){const{style:h}=r;s.backgroundColor&&(h.backgroundColor=s.backgroundColor),s.width&&(h.width=`${s.width}px`),s.height&&(h.height=`${s.height}px`);const d=s.style;return d!=null&&Object.keys(d).forEach(m=>{h[m]=d[m]}),r}const Yt={};async function Kt(r){let s=Yt[r];if(s!=null)return s;const d=await(await fetch(r)).text();return s={url:r,cssText:d},Yt[r]=s,s}async function Zt(r,s){let h=r.cssText;const d=/url\(["']?([^"')]+)["']?\)/g,b=(h.match(/url\([^)]+\)/g)||[]).map(async y=>{let S=y.replace(d,"$1");return S.startsWith("https://")||(S=new URL(S,r.url).href),re(S,s.fetchRequestInit,({result:O})=>(h=h.replace(y,`url(${O})`),[y,O]))});return Promise.all(b).then(()=>h)}function Jt(r){if(r==null)return[];const s=[],h=/(\/\*[\s\S]*?\*\/)/gi;let d=r.replace(h,"");const m=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const O=m.exec(d);if(O===null)break;s.push(O[0])}d=d.replace(m,"");const b=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,y="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",S=new RegExp(y,"gi");for(;;){let O=b.exec(d);if(O===null){if(O=S.exec(d),O===null)break;b.lastIndex=S.lastIndex}else S.lastIndex=b.lastIndex;s.push(O[0])}return s}async function nr(r,s){const h=[],d=[];return r.forEach(m=>{if("cssRules"in m)try{wt(m.cssRules||[]).forEach((b,y)=>{if(b.type===CSSRule.IMPORT_RULE){let S=y+1;const O=b.href,Q=Kt(O).then(Y=>Zt(Y,s)).then(Y=>Jt(Y).forEach(G=>{try{m.insertRule(G,G.startsWith("@import")?S+=1:m.cssRules.length)}catch(at){console.error("Error inserting rule from remote css",{rule:G,error:at})}})).catch(Y=>{console.error("Error loading remote css",Y.toString())});d.push(Q)}})}catch(b){const y=r.find(S=>S.href==null)||document.styleSheets[0];m.href!=null&&d.push(Kt(m.href).then(S=>Zt(S,s)).then(S=>Jt(S).forEach(O=>{y.insertRule(O,y.cssRules.length)})).catch(S=>{console.error("Error loading remote stylesheet",S)})),console.error("Error inlining remote css file",b)}}),Promise.all(d).then(()=>(r.forEach(m=>{if("cssRules"in m)try{wt(m.cssRules||[]).forEach(b=>{h.push(b)})}catch(b){console.error(`Error while reading CSS rules from ${m.href}`,b)}}),h))}function ir(r){return r.filter(s=>s.type===CSSRule.FONT_FACE_RULE).filter(s=>oe(s.style.getPropertyValue("src")))}async function or(r,s){if(r.ownerDocument==null)throw new Error("Provided element is not within a Document");const h=wt(r.ownerDocument.styleSheets),d=await nr(h,s);return ir(d)}function le(r){return r.trim().replace(/["']/g,"")}function sr(r){const s=new Set;function h(d){(d.style.fontFamily||getComputedStyle(d).fontFamily).split(",").forEach(b=>{s.add(le(b))}),Array.from(d.children).forEach(b=>{b instanceof HTMLElement&&h(b)})}return h(r),s}async function ar(r,s){const h=await or(r,s),d=sr(r);return(await Promise.all(h.filter(b=>d.has(le(b.style.fontFamily))).map(b=>{const y=b.parentStyleSheet?b.parentStyleSheet.href:null;return se(b.cssText,y,s)}))).join(`
`)}async function lr(r,s){const h=s.fontEmbedCSS!=null?s.fontEmbedCSS:s.skipFonts?null:await ar(r,s);if(h){const d=document.createElement("style"),m=document.createTextNode(h);d.appendChild(m),r.firstChild?r.insertBefore(d,r.firstChild):r.appendChild(d)}}async function ur(r,s={}){const{width:h,height:d}=ee(r,s),m=await It(r,s,!0);return await lr(m,s),await ae(m,s),rr(m,s),await ke(m,h,d)}async function cr(r,s={}){const{width:h,height:d}=ee(r,s),m=await ur(r,s),b=await zt(m),y=document.createElement("canvas"),S=y.getContext("2d"),O=s.pixelRatio||Se(),Q=s.canvasWidth||h,Y=s.canvasHeight||d;return y.width=Q*O,y.height=Y*O,s.skipAutoScale||Ce(y),y.style.width=`${Q}`,y.style.height=`${Y}`,s.backgroundColor&&(S.fillStyle=s.backgroundColor,S.fillRect(0,0,y.width,y.height)),S.drawImage(b,0,0,y.width,y.height),y}async function dr(r,s={}){return(await cr(r,s)).toDataURL()}const hr={class:"min-h-screen bg-slate-50 font-sans text-slate-900 pb-20"},gr={class:"max-w-6xl mx-auto p-6 sm:p-12 grid sm:grid-cols-12 gap-12"},fr={class:"sm:col-span-5 order-1 sm:order-2 relative"},pr={class:"sm:sticky sm:top-28 h-auto sm:h-[calc(100vh-12rem)] w-full flex flex-col items-center justify-center"},wr={class:"px-8 py-3 text-white font-black text-2xl rounded-2xl uppercase tracking-tight"},mr={key:0,class:"text-center py-2 text-white font-black text-xl mb-1 uppercase tracking-tight"},vr={key:1,class:"text-center py-2 text-white font-black text-xl mt-1 uppercase tracking-tight"},br={class:"sm:col-span-7 order-2 sm:order-1 space-y-6"},yr={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200"},_r={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200"},xr={class:"grid md:grid-cols-2 gap-6"},Sr={class:"space-y-4"},Cr={class:"flex items-center gap-3"},$r={class:"text-xs text-slate-400 font-mono"},kr={class:"space-y-4"},Ar={class:"flex items-center gap-4"},Mr=["disabled"],Or={class:"flex items-center gap-2 cursor-pointer group"},Er={class:"md:col-span-2 space-y-2"},Pr={class:"flex gap-2"},Dr=["onClick"],Rr={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200"},zr={class:"flex justify-between items-center mb-6"},Ir={class:"relative inline-flex items-center cursor-pointer"},qr={key:0,class:"space-y-6 animate-in"},Lr={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Br=["onClick"],jr={class:"grid md:grid-cols-2 gap-6 pt-2"},Tr={class:"space-y-2"},Fr={class:"space-y-2"},Ur={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200"},Hr={class:"flex items-center gap-4"},Vr={key:0,class:"relative"},Nr=["src"],Wr={class:"flex-1 flex items-center justify-center h-16 border-2 border-slate-200 border-dashed rounded-xl cursor-pointer hover:bg-slate-50 transition-colors"},Qr={class:"text-xs text-slate-500 font-medium"},Gr={__name:"create",setup(r){const s=he(),h=dt("https://google.com"),d=dt("#1e293b"),m=dt("square"),b=dt("#ffffff"),y=dt(!1),S=dt(null),O=dt(!1),Q=dt("bubble"),Y=dt("SCAN ME"),G=dt("#1e293b"),at=dt(null),rt=dt(null);let Z=null;const H=ge(()=>{if(!O.value)return{backgroundColor:"transparent"};const V={borderColor:G.value,backgroundColor:G.value,transition:"all 0.5s ease"};return Q.value==="bubble"||Q.value==="border"?{...V,backgroundColor:"transparent",borderRadius:"2.5rem"}:{...V,borderRadius:"2rem"}});ce([h,d,m,b,y,S],()=>{Z&&Z.update({data:h.value||" ",dotsOptions:{color:d.value,type:m.value},backgroundOptions:{color:y.value?"transparent":b.value},image:S.value||void 0,imageOptions:{margin:10,imageSize:.4}})});const ct=V=>{const k=V.target.files[0];if(!k)return;const j=new FileReader;j.onload=()=>{S.value=j.result},j.readAsDataURL(k)},tt=async()=>{if(rt.value)try{const V=await dr(rt.value,{quality:1,pixelRatio:3,backgroundColor:y.value?null:"#f8fafc"}),k=document.createElement("a");k.download=`qr-studio-design-${Date.now()}.png`,k.href=V,k.click()}catch(V){console.error("Export failed!",V),alert("Export failed. Please try again.")}};return de(()=>{const V=window.innerWidth<768?150:250;Z=new ve({width:V,height:V,data:h.value,dotsOptions:{color:d.value,type:m.value},backgroundOptions:{color:b.value},imageOptions:{crossOrigin:"anonymous",margin:10,imageSize:.4}}),Z.append(at.value);const k=localStorage.getItem("link");k?h.value=k:s.push("/"),window.addEventListener("resize",()=>{const j=window.innerWidth<768?150:250;Z.value.update({width:j,height:j})})}),(V,k)=>(pt(),ft("div",hr,[A("header",{class:"bg-white border-b border-slate-200 px-8 py-4 flex justify-between items-center sticky top-0 z-30"},[k[9]||(k[9]=A("div",{class:"flex items-center gap-2"},[A("h1",{class:"text-2xl font-bold text-blue-600"},"FreeQR")],-1)),A("button",{onClick:tt,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-xl font-semibold transition-all shadow-sm shadow-indigo-100 flex items-center gap-2"},[...k[8]||(k[8]=[A("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[A("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),Ut(" Export Design ",-1)])])]),A("main",gr,[A("div",fr,[A("div",pr,[A("div",{ref_key:"exportArea",ref:rt,class:"flex flex-col items-center p-8 transition-all duration-500"},[O.value&&Q.value==="bubble"?(pt(),ft("div",{key:0,class:"relative mb-6",style:Lt({backgroundColor:G.value})},[A("div",wr,mt(Y.value),1),A("div",{class:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-5 h-5 rotate-45",style:Lt({backgroundColor:G.value})},null,4)],4)):Ct("",!0),A("div",{class:Pt(["transition-all duration-500 ease-in-out",[O.value&&(Q.value==="border"||Q.value==="bubble")?"border-[10px]":"",O.value&&(Q.value==="top"||Q.value==="below")?"p-2":"p-1"]]),style:Lt(H.value)},[O.value&&Q.value==="top"?(pt(),ft("div",mr,mt(Y.value),1)):Ct("",!0),A("div",{class:Pt(["p-4 rounded-[1.4rem]",y.value?"bg-transparent":"bg-white"])},[A("div",{ref_key:"qrWrapper",ref:at,class:"overflow-hidden"},null,512)],2),O.value&&Q.value==="below"?(pt(),ft("div",vr,mt(Y.value),1)):Ct("",!0)],6),k[10]||(k[10]=A("p",{class:"mt-8 text-slate-700 text-[10px] uppercase font-bold tracking-[0.2em] flex items-center gap-2"},[A("span",{class:"relative flex h-2 w-2"},[A("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),A("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]),Ut(" Live Production Preview ")],-1))],512)])]),A("div",br,[A("section",yr,[k[11]||(k[11]=A("h2",{class:"text-xs font-bold uppercase tracking-widest text-slate-400 mb-4"},"1. Content",-1)),vt(A("input",{"onUpdate:modelValue":k[0]||(k[0]=j=>h.value=j),type:"text",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"Enter URL or text..."},null,512),[[$t,h.value]])]),A("section",_r,[k[16]||(k[16]=A("h2",{class:"text-xs font-bold uppercase tracking-widest text-slate-400 mb-4"},"2. Graphics & Background",-1)),A("div",xr,[A("div",Sr,[k[12]||(k[12]=A("label",{class:"text-sm font-medium text-slate-700 block"},"Pattern Color",-1)),A("div",Cr,[vt(A("input",{type:"color","onUpdate:modelValue":k[1]||(k[1]=j=>d.value=j),class:"w-10 h-10 rounded-sm cursor-pointer border-none bg-transparent"},null,512),[[$t,d.value]]),A("code",$r,mt(d.value),1)])]),A("div",kr,[k[14]||(k[14]=A("label",{class:"text-sm font-medium text-slate-700 block"},"Background Settings",-1)),A("div",Ar,[vt(A("input",{type:"color","onUpdate:modelValue":k[2]||(k[2]=j=>b.value=j),disabled:y.value,class:"w-10 h-10 rounded-sm cursor-pointer border-none bg-transparent disabled:opacity-20"},null,8,Mr),[[$t,b.value]]),A("label",Or,[vt(A("input",{type:"checkbox","onUpdate:modelValue":k[3]||(k[3]=j=>y.value=j),class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Ht,y.value]]),k[13]||(k[13]=A("span",{class:"text-sm font-medium text-slate-600 group-hover:text-slate-900 transition-colors"},"Transparent",-1))])])]),A("div",Er,[k[15]||(k[15]=A("label",{class:"text-sm font-medium text-slate-700"},"Pattern Style",-1)),A("div",Pr,[(pt(),ft(Vt,null,Nt(["square","dots","rounded","extra-rounded"],j=>A("button",{key:j,onClick:gt=>m.value=j,class:Pt([m.value===j?"bg-indigo-600 text-white shadow-md":"bg-slate-100 text-slate-600","flex-1 py-2 text-xs font-bold rounded-sm capitalize transition-all"])},mt(j),11,Dr)),64))])])])]),A("section",Rr,[A("div",zr,[k[18]||(k[18]=A("h2",{class:"text-xs font-bold uppercase tracking-widest text-slate-400"},"3. Frame Customization",-1)),A("label",Ir,[vt(A("input",{type:"checkbox","onUpdate:modelValue":k[4]||(k[4]=j=>O.value=j),class:"sr-only peer"},null,512),[[Ht,O.value]]),k[17]||(k[17]=A("div",{class:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"},null,-1))])]),O.value?(pt(),ft("div",qr,[A("div",Lr,[(pt(),ft(Vt,null,Nt(["bubble","top","below","border"],j=>A("button",{key:j,onClick:gt=>Q.value=j,class:Pt([Q.value===j?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-100 text-slate-400","px-4 py-3 border-2 rounded-xl text-sm font-bold capitalize transition-all"])},mt(j),11,Br)),64))]),A("div",jr,[A("div",Tr,[k[19]||(k[19]=A("label",{class:"text-sm font-medium text-slate-700"},"Label Text",-1)),vt(A("input",{"onUpdate:modelValue":k[5]||(k[5]=j=>Y.value=j),type:"text",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-sm text-sm focus:ring-2 focus:ring-indigo-500 uppercase font-bold"},null,512),[[$t,Y.value]])]),A("div",Fr,[k[20]||(k[20]=A("label",{class:"text-sm font-medium text-slate-700"},"Frame Color",-1)),vt(A("input",{type:"color","onUpdate:modelValue":k[6]||(k[6]=j=>G.value=j),class:"w-full h-10 rounded-sm cursor-pointer border-none bg-transparent"},null,512),[[$t,G.value]])])])])):Ct("",!0)]),A("section",Ur,[k[22]||(k[22]=A("h2",{class:"text-xs font-bold uppercase tracking-widest text-slate-400 mb-4"},"4. Center Logo",-1)),A("div",Hr,[S.value?(pt(),ft("div",Vr,[A("img",{src:S.value,class:"w-16 h-16 rounded-xl object-contain border border-slate-200 bg-white p-1"},null,8,Nr),A("button",{onClick:k[7]||(k[7]=j=>S.value=null),class:"absolute -top-2 -right-2 bg-slate-800 text-white rounded-full p-1 shadow-md hover:bg-red-500 transition-colors"},[...k[21]||(k[21]=[A("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):Ct("",!0),A("label",Wr,[A("span",Qr,mt(S.value?"Change Logo":"Click to upload logo"),1),A("input",{type:"file",onChange:ct,accept:"image/*",class:"hidden"},null,32)])])])])])]))}},Yr=ue(Gr,[["__scopeId","data-v-f463cd0a"]]);export{Yr as default};
